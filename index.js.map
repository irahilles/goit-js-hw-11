{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport function getImage(userValue){\n    const BASE_URL = 'https://pixabay.com/api/';\n    const params = new URLSearchParams({\n        key: '48836479-4489c2f77adf14865904c6664',\n        q: userValue,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n    const url = `${BASE_URL}?${params}`;\n    \n    return axios.get(url)\n        .then(response => {\n            if (response.data.hits.length === 0) {\n                return [];\n            }\n            return response.data.hits;\n        })\n        .catch(error => {\n            console.error('Error fetching images:', error);\n            throw error;\n        });\n}","export function createMarkup(images) {\n  return images.map(image => `\n    <div class=\"card\">\n      <div class=\"img-cont\">\n          <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n              <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n          </a>\n      </div>\n      <div class=\"describtion-cont\">\n          <div class=\"block\">\n              <h4 class=\"title\">Likes</h4>\n              <p class=\"number\">${image.likes}</p>\n          </div>\n          <div class=\"block\">\n              <h4 class=\"title\">Views</h4>\n              <p class=\"number\">${image.views}</p>\n          </div>\n          <div class=\"block\">\n              <h4 class=\"title\">Comments</h4>\n              <p class=\"number\">${image.comments}</p>\n          </div>\n          <div class=\"block\">\n              <h4 class=\"title\">Downloads</h4>\n              <p class=\"number\">${image.downloads}</p>\n          </div>\n      </div>\n      </div>\n  `).join(''); \n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { getImage } from \"./js/pixabay-api\";\nimport { createMarkup } from \"./js/render-functions\";\n\nconst refs = {\n    form: document.querySelector('.form'),\n    imagesContainer: document.querySelector('.images-container'),\n    input: document.querySelector('.input'),\n    loader: document.querySelector('.loader')\n};\n\nconst lightbox = new SimpleLightbox('.gallery-link');\n\nrefs.form.addEventListener('submit', (e) => {\n    e.preventDefault();\n\n    const userValue = refs.input.value.trim();\n    \n    if (userValue === '') {\n        iziToast.show({\n            backgroundColor: 'red',\n            position: 'topRight',\n            message: 'The input field cannot be empty'\n        });\n        return;\n    }\n\n    refs.imagesContainer.innerHTML = ''; \n    refs.loader.innerHTML = 'Please wait, the images are loading...'; \n\n    getImage(userValue)\n        .then(images => {\n            if (images.length === 0) {\n                iziToast.show({\n                    backgroundColor: 'orange',\n                    position: 'topRight',\n                    message: 'Sorry, there are no images matching your search query. Please try again!'\n                });\n                refs.imagesContainer.innerHTML = '';\n                return;\n            }\n\n            refs.imagesContainer.innerHTML = createMarkup(images);\n            lightbox.refresh(); \n        })\n        .catch(() => {\n            iziToast.show({\n                backgroundColor: 'red',\n                position: 'topRight',\n                message: 'Failed to fetch images. Try again later!'\n            });\n        })\n        .finally(() => {\n            refs.loader.innerHTML = \"\"; \n        });\n\n    e.target.reset();\n});\n"],"names":["getImage","userValue","BASE_URL","params","url","axios","response","error","createMarkup","images","image","refs","lightbox","SimpleLightbox","e","iziToast"],"mappings":"owBAEO,SAASA,EAASC,EAAU,CAC/B,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEjC,OAAOE,EAAM,IAAID,CAAG,EACf,KAAKE,GACEA,EAAS,KAAK,KAAK,SAAW,EACvB,GAEJA,EAAS,KAAK,IACxB,EACA,MAAMC,GAAS,CACZ,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CAClB,CAAS,CACT,CCxBO,SAASC,EAAaC,EAAQ,CACnC,OAAOA,EAAO,IAAIC,GAAS;AAAA;AAAA;AAAA,0CAGaA,EAAM,aAAa;AAAA,0BACnCA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAM9BA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,kCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,kCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,kCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,GAI9C,EAAE,KAAK,EAAE,CACZ,CCnBA,MAAMC,EAAO,CACT,KAAM,SAAS,cAAc,OAAO,EACpC,gBAAiB,SAAS,cAAc,mBAAmB,EAC3D,MAAO,SAAS,cAAc,QAAQ,EACtC,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAEMC,EAAW,IAAIC,EAAe,eAAe,EAEnDF,EAAK,KAAK,iBAAiB,SAAWG,GAAM,CACxCA,EAAE,eAAc,EAEhB,MAAMb,EAAYU,EAAK,MAAM,MAAM,KAAI,EAEvC,GAAIV,IAAc,GAAI,CAClBc,EAAS,KAAK,CACV,gBAAiB,MACjB,SAAU,WACV,QAAS,iCACrB,CAAS,EACD,MACH,CAEDJ,EAAK,gBAAgB,UAAY,GACjCA,EAAK,OAAO,UAAY,yCAExBX,EAASC,CAAS,EACb,KAAKQ,GAAU,CACZ,GAAIA,EAAO,SAAW,EAAG,CACrBM,EAAS,KAAK,CACV,gBAAiB,SACjB,SAAU,WACV,QAAS,0EAC7B,CAAiB,EACDJ,EAAK,gBAAgB,UAAY,GACjC,MACH,CAEDA,EAAK,gBAAgB,UAAYH,EAAaC,CAAM,EACpDG,EAAS,QAAO,CAC5B,CAAS,EACA,MAAM,IAAM,CACTG,EAAS,KAAK,CACV,gBAAiB,MACjB,SAAU,WACV,QAAS,0CACzB,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXJ,EAAK,OAAO,UAAY,EACpC,CAAS,EAELG,EAAE,OAAO,OACb,CAAC"}